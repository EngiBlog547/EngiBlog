---
import MainLayout from "../layouts/MainLayout.astro"
import PostCard from "../components/PostCard.astro"
import Link from "../components/Link.astro"

import { formatBlogPosts } from '../js/utils'

const allPosts = await Astro.glob("./blog/*.md")
const formattedPosts: Array<{ frontmatter: any; url: string }> = formatBlogPosts(allPosts, {limit: 3})
---

<MainLayout>
	<section class="container about" aria-label="About Me">
		<img 
			src="images/EngiBlog.png" 
			alt="My photo" 
			width={250} 
			height={350}
			class="hero-image"
		/>
		<div class="content">
			<h1 class="h1">EngiBlog</h1>
			<p>
				EngiBlog es un blog creado por y para ingenieros. Un espacio donde compartimos conocimientos,
				experiencias y curiosidades del mundo de la ingenier칤a. Aqu칤 encontrar치s art칤culos escritos por 
				estudiantes de ingenier칤a de la Universidad de Guanajuato apasionados por la tecnolog칤a, la ciencia 
				y la innovaci칩n. Est치 pensado para que puedas aprender y compartir conocimientos con otros, as칤
				como para promover la divulgaci칩n de ciencias, estando al alcance de todos.<br/>
				En este blog encontrar치s informaci칩n sobre diversos temas. 춰Esperamos que te sea de utilidad!
			</p>
			<Link 
				href="/about/" 
				style="secondary" 
				isFilled={false} 
				borderVisible={true} 
				text="游녦游낖 Nuestra informaci칩n"
			/>
		</div>
	</section>
	<section class="container" aria-label="Nuevas Publicaciones">
		<h2 class="h1">Nuevas Publicaciones</h2>
		<div class="post-container">
			{
				formattedPosts.map((post) => (
					<PostCard
						frontmatter={post.frontmatter}
						url={post.url}
						tagType="h3"
					/>
				))
			}
		</div>
	</section>
</MainLayout>